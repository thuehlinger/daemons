<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: daemonize.rb</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>daemonize.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/daemons/daemonize.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sat May 15 15:18:36 +0200 2010</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1><a href="../../../classes/Daemonize.html">Daemonize</a> Library</h1>
<p>
February. 4, 2005 Travis Whitton &lt;whitton@atlantic.net&gt;
</p>
<p>
<a href="../../../classes/Daemonize.html">Daemonize</a> allows you to
easily modify any existing Ruby program to run as a daemon. See README.rdoc
for more details.
</p>
<h2>How to install</h2>
<ol>
<li>su to root

</li>
<li>ruby install.rb

</li>
</ol>
<p>
build the docs if you want to
</p>
<ol>
<li>rdoc &#8212;main README.rdoc daemonize.rb README.rdoc

</li>
</ol>
<h2>Copying</h2>
<p>
The <a href="../../../classes/Daemonize.html">Daemonize</a> extension
module is copywrited free software by Travis Whitton
&lt;whitton@atlantic.net&gt;. You can redistribute it under the terms
specified in the COPYING file of the Ruby distribution.
</p>
<h2>WARRANTY</h2>
<p>
THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND WITHOUT ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES
OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
</p>
<hr size="2"></hr><h2>Purpose</h2>
<p>
<a href="../../../classes/Daemonize.html">Daemonize</a> is a module derived
from Perl&#8216;s Proc::Daemon module. This module allows you to easily
modify any existing Ruby program to run as a daemon. A daemon is a process
that runs in the background with no controlling terminal. Generally servers
(like FTP and HTTP servers) run as daemon processes. Note, do not make the
mistake that a daemon == server. Converting a program to a daemon by hand
is a relatively simple process; however, this module will save you the
effort of repeatedly looking up the procedure, and it will also insure that
your programs are daemonized in the safest and most corrects fashion
possible.
</p>
<h2>Procedure</h2>
<p>
The <a href="../../../classes/Daemonize.html">Daemonize</a> module does the
following:
</p>
<p>
Forks a child and exits the parent process.
</p>
<p>
Becomes a session leader (which detaches the program from the controlling
terminal).
</p>
<p>
Forks another child process and exits first child. This prevents the
potential of acquiring a controlling terminal.
</p>
<p>
Changes the current working directory to &quot;/&quot;.
</p>
<p>
Clears the file creation mask.
</p>
<p>
Closes file descriptors.
</p>
<h2>Example usage</h2>
<p>
Using the <a href="../../../classes/Daemonize.html">Daemonize</a> module is
extremely simple:
</p>
<pre>
    require 'daemonize'

    class TestDaemon
      include Daemonize

      def initialize
        daemonize()
        loop do
          # do some work here
        end
      end
    end
</pre>
<h2>Credits</h2>
<p>
<a href="../../../classes/Daemonize.html">Daemonize</a> was written by
Travis Whitton and is based on Perl&#8216;s Proc::Daemonize, which was
written by Earl Hood. The above documentation is also partially borrowed
from the Proc::Daemonize POD documentation.
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>